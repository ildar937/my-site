<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>AI-—à–∞–±–ª–æ–Ω—ã ‚Ä¢ –ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å—ã –∏ —Å–æ—Ü—Å–µ—Ç–∏</title>
  <meta name="theme-color" content="#f6d365" />
  <style>
    :root{--bg:#fdfdfd;--text:#222;--card:#fff;--muted:#666;--btn:#6b4de6;--grad1:#f6d365;--grad2:#fda085}
    *{box-sizing:border-box}
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;background:var(--bg);color:var(--text)}
    header{background:linear-gradient(90deg,var(--grad1),var(--grad2));color:#fff;text-align:center;padding:24px 16px}
    header h1{margin:0 0 6px;font-size:26px}
    header p{margin:0;opacity:.95}
    .wrap{max-width:1080px;margin:0 auto;padding:16px}
    .gallery{display:grid;grid-template-columns:1fr 1fr;gap:20px}
    .pair{display:grid;grid-template-columns:1fr 1fr;gap:20px}
    .card{background:var(--card);border-radius:14px;box-shadow:0 6px 18px rgba(0,0,0,.08);padding:14px;text-align:center}
    .label{font-weight:700;margin:8px 0 10px}
    .title{margin:8px 0 0;color:var(--muted);font-size:14px}
    img{width:100%;height:auto;border-radius:10px;display:block}
    .tariffs{margin:28px 0;background:#fafafa;border-radius:14px;padding:20px;text-align:center;border:1px solid #eee}
    .tariffs h2{margin:0 0 12px}
    .tariff{margin:6px 0;font-size:17px}
    .btn{display:inline-block;padding:12px 22px;background:var(--btn);color:#fff;border-radius:10px;text-decoration:none;font-weight:600}
    .btn-row{display:flex;gap:12px;justify-content:center;flex-wrap:wrap;margin-top:14px}
    .btn.telegram{background:#0088cc}.btn.whatsapp{background:#25D366}.btn.portfolio{background:#444}.btn.price{background:#6b4de6}
    details.debug{margin:18px 0;padding:12px;border:1px dashed #ccc;border-radius:10px;background:#fffbe6;color:#222}
    @media (max-width:820px){.gallery{grid-template-columns:1fr}.pair{grid-template-columns:1fr}}
    footer{color:#777;text-align:center;padding:24px 12px}
  </style>
</head>
<body>
<header>
  <h1>üöÄ AI-—à–∞–±–ª–æ–Ω—ã –¥–ª—è –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–æ–≤ –∏ —Å–æ—Ü—Å–µ—Ç–µ–π</h1>
  <p>–ö–∞—Ä—Ç–æ—á–∫–∏ ‚Ä¢ –∏–Ω—Ñ–æ–≥—Ä–∞—Ñ–∏–∫–∞ ‚Ä¢ –æ–±–ª–æ–∂–∫–∏</p>
</header>

<main class="wrap">
  <!-- –ì–∞–ª–µ—Ä–µ—è ¬´–î–æ/–ü–æ—Å–ª–µ¬ª -->
  <section id="gallery" class="gallery"></section>

  <!-- –ü—Ä–∞–π—Å -->
  <section id="price" class="tariffs">
    <h2>üí∞ –¢–∞—Ä–∏—Ñ—ã (–∫—Ä–∞—Ç–∫–æ)</h2>
    <div class="tariff">üìå 1 —à–∞–±–ª–æ–Ω ‚Äî –æ—Ç 500 ‚ÇΩ</div>
    <div class="tariff">üìå 3‚Äì5 —à–∞–±–ª–æ–Ω–æ–≤ ‚Äî –æ—Ç 1500 ‚ÇΩ</div>
    <div class="tariff">üìå –ü–∞–∫–µ—Ç 5‚Äì7 —à–∞–±–ª–æ–Ω–æ–≤ + –∞–¥–∞–ø—Ç–∞—Ü–∏—è ‚Äî –æ—Ç 2500 ‚ÇΩ</div>
    <div class="btn-row">
      <a class="btn whatsapp" href="https://wa.me/79031696661?text=%F0%9F%91%8B%20–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ!%20–•–æ—á—É%20–∑–∞–∫–∞–∑–∞—Ç—å%20AI-%D1%88%D0%B0%D0%B1%D0%BB%D0%BE%D0%BD%D1%8B.%20–°–∫–æ–ª—å–∫–æ%20—Å—Ç–æ–∏—Ç%20%D0%BF%D0%B0%D0%BA%D0%B5%D1%82%3F" target="_blank" rel="noopener">WhatsApp</a>
      <a class="btn telegram" href="https://t.me/ai_do_after" target="_blank" rel="noopener">Telegram-–∫–∞–Ω–∞–ª</a>
      <a class="btn portfolio" href="#gallery">–ü–æ—Ä—Ç—Ñ–æ–ª–∏–æ</a>
      <a class="btn price" href="#price">–ü—Ä–∞–π—Å-–ª–∏—Å—Ç</a>
    </div>
  </section>

  <!-- –û—Ç–ª–∞–¥–∫–∞ (–ø–æ –∂–µ–ª–∞–Ω–∏—é) -->
  <details class="debug">
    <summary>DEBUG ‚Ä¢ –ø–æ–∫–∞–∑–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –ø—É—Ç–µ–π</summary>
    <pre id="debug-log" style="white-space:pre-wrap;margin:8px 0 0"></pre>
  </details>
</main>

<footer>¬© –ò–ª—å–¥–∞—Ä. –ë–µ–∑ ¬´–≤–æ–¥—ã¬ª ‚Äî —Ç–æ–ª—å–∫–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç.</footer>

<script>
/* ==================== –ù–ê–°–¢–†–û–ô–ö–ò –ü–û–î –¢–í–û–ô –†–ï–ü–û ==================== */
// –ì–¥–µ –ª–µ–∂–∞—Ç –∫–∞—Ä—Ç–∏–Ω–∫–∏. –ï—Å—Ç—å –ø–∞–ø–∫–∞ assets/ –∏ (–Ω–∞ –≤—Å—è–∫–∏–π) assets/images/
const BASES = ['assets/', 'assets/images/'];

// –†–∞–∑–Ω—ã–µ —Ä–µ–≥–∏—Å—Ç—Ä—ã —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π –¥–ª—è GitHub Pages
const EXTS = ['jpg','jpeg','png','webp','JPG','JPEG','PNG','WEBP'];

// –¢–í–û–ò —Ä–µ–∞–ª—å–Ω—ã–µ –∏–º–µ–Ω–∞ —Ñ–∞–π–ª–æ–≤ (–±–µ–∑ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π) ‚Äî –∫–∞–∫ –Ω–∞ —Å–∫—Ä–∏–Ω–µ
const PAIRS = [
  { title:'–ö—Ä–æ—Å—Å–æ–≤–∫–∏',  before:['krossovki-before'],  after:['krossovki-after'] },
  { title:'–ü—Ä–æ–¥—É–∫—Ç',    before:['product-before'],    after:['product-after']   },
  { title:'–ß–∞—Å—ã',       before:['watch-before'],      after:['watch-after']     },
  { title:'–ù–∞—É—à–Ω–∏–∫–∏',   before:['headphones-before'], after:['headphones-after']}, // —É —Ç–µ–±—è –Ω–µ—Ç headphones-before.jpg ‚Äî –ø–æ–∫–∞–∂—É –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä
];
/* ================================================================= */

/* –ü–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä, –µ—Å–ª–∏ —Ñ–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω */
function placeholder(label){
  const svg = `
    <svg xmlns='http://www.w3.org/2000/svg' width='1200' height='800'>
      <defs><linearGradient id='g' x1='0' y1='0' x2='0' y2='1'>
        <stop offset='0%' stop-color='#f6d365'/><stop offset='100%' stop-color='#fda085'/>
      </linearGradient></defs>
      <rect width='100%' height='100%' fill='url(#g)'/>
      <text x='50%' y='50%' fill='#fff' font-family='Arial, sans-serif' font-size='48' text-anchor='middle'>${label}</text>
    </svg>`;
  return 'data:image/svg+xml;charset=UTF-8,' + encodeURIComponent(svg);
}

/* –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –∫–∞—Ä—Ç–∏–Ω–∫–∏ */
function test(url){
  return new Promise(res=>{
    const i = new Image();
    i.onload = ()=>res(url);
    i.onerror = ()=>res(null);
    i.src = url + (url.includes('?')?'&':'?') + 'v=' + Date.now(); // –æ–±—Ö–æ–¥ –∫—ç—à–∞
  });
}

/* –ü–æ–∏—Å–∫ —Ñ–∞–π–ª–∞: –ø–µ—Ä–µ–±–æ—Ä –ø–∞–ø–æ–∫ –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π */
async function findFile(basenames){
  for (const base of BASES){
    for (const name of basenames){
      if (/\.(jpg|jpeg|png|webp)$/i.test(name)){
        const hit = await test(base + name);
        if (hit) return hit;
      } else {
        for (const ext of EXTS){
          const hit = await test(`${base}${name}.${ext}`);
          if (hit) return hit;
        }
      }
    }
  }
  return null;
}

/* –†–µ–Ω–¥–µ—Ä –≥–∞–ª–µ—Ä–µ–∏ */
async function build(){
  const root = document.getElementById('gallery');
  const log = (msg)=>document.getElementById('debug-log').textContent += msg + "\n";

  for (const p of PAIRS){
    const b = await findFile(p.before);
    const a = await findFile(p.after);
    log(`‚ñ∂ ${p.title}\n  before: ${b || '(–Ω–µ—Ç)'}\n  after: ${a || '(–Ω–µ—Ç)'}\n`);

    const pair = document.createElement('div'); pair.className = 'pair';
    pair.innerHTML = `
      <div class="card">
        <div class="label">–î–æ ‚Äî –æ–±—ã—á–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞</div>
        <img src="${b || placeholder('–ù–µ—Ç —Ñ–∞–π–ª–∞: ' + (p.before[0] + '.*'))}" alt="${p.title} –î–æ" loading="lazy" />
        <p class="title">${p.title}${b ? '' : ' ‚Ä¢ –¥–æ–±–∞–≤—å '+p.before[0]+'.jpg'}</p>
      </div>
      <div class="card">
        <div class="label">–ü–æ—Å–ª–µ ‚Äî —à–∞–±–ª–æ–Ω</div>
        <img src="${a || placeholder('–ù–µ—Ç —Ñ–∞–π–ª–∞: ' + (p.after[0] + '.*'))}" alt="${p.title} –ü–æ—Å–ª–µ" loading="lazy" />
        <p class="title">${p.title}${a ? '' : ' ‚Ä¢ –¥–æ–±–∞–≤—å '+p.after[0]+'.jpg'}</p>
      </div>`;
    root.appendChild(pair);
  }
}

document.addEventListener('DOMContentLoaded', build);
</script>
</body>
</html>
