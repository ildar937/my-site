<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>AI-–¥–∏–∑–∞–π–Ω ‚Ä¢ –î–æ/–ü–æ—Å–ª–µ</title>
  <style>
    :root{--bg:#fff;--fg:#111;--muted:#666;--panel:#f6f7f9;--btn:#111;--btnh:#333}
    *{box-sizing:border-box}
    body{margin:0;font-family:Arial,Helvetica,sans-serif;background:var(--bg);color:var(--fg);line-height:1.6}
    header,footer{padding:26px 14px;text-align:center;background:var(--panel)}
    header h1{margin:0 0 6px}
    main{max-width:980px;margin:0 auto;padding:18px 14px}
    .pill{display:inline-block;background:#eef1f5;border-radius:999px;padding:8px 14px;color:#111;text-decoration:none;margin:0 6px}
    h2{text-align:center;margin:24px 0 10px}
    .card{display:flex;flex-direction:column;align-items:center;margin:28px 0}
    .card img{width:100%;max-width:880px;border-radius:12px;box-shadow:0 6px 16px rgba(0,0,0,.12);min-height:180px;background:#f1f2f4;object-fit:cover}
    .btns{margin-top:10px}
    .btn{background:var(--btn);color:#fff;border:0;border-radius:9px;padding:9px 14px;margin:0 6px;cursor:pointer}
    .btn:hover{background:var(--btnh)}
    .muted{color:var(--muted);font-size:13px;margin-top:6px}
    .ok{color:#18a058}.bad{color:#c22727}
  </style>
</head>
<body>
  <header>
    <h1>AI-–¥–∏–∑–∞–π–Ω ‚Ä¢ –î–æ/–ü–æ—Å–ª–µ</h1>
    <div>–ö–∞—Ä—Ç–æ—á–∫–∏, –æ–±–ª–æ–∂–∫–∏, –∞–≤–∞—Ç–∞—Ä—ã ‚Ä¢ –±—ã—Å—Ç—Ä—ã–π –ø—Ä–µ–º–∏—É–º-–≤–∏–∑—É–∞–ª</div>
    <p style="margin-top:10px">
      <a class="pill" href="https://t.me/foodfox_eldar_gainutdinov" target="_blank" rel="noopener">Telegram</a>
      <a class="pill" href="https://wa.me/79031696661?text=–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ!%20–•–æ—á—É%20–æ—Ñ–æ—Ä–º–∏—Ç—å%20–∑–∞–∫–∞–∑." target="_blank" rel="noopener">WhatsApp</a>
      <!-- –ñ–Å–°–¢–ö–ê–Ø —Å—Å—ã–ª–∫–∞ –Ω–∞ —Ç–≤–æ–π DOCX –≤ –∫–æ—Ä–Ω–µ (–ø—Ä–æ–±–µ–ª –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω) -->
      <a id="price-hard" class="pill" href="ai_design_site_ads.docx%202.docx" download>üìÑ –°–∫–∞—á–∞—Ç—å –ø—Ä–∞–π—Å (DOCX)</a>
    </p>
  </header>

  <main>
    <h2>–ü—Ä–∏–º–µ—Ä—ã —Ä–∞–±–æ—Ç</h2>

    <!-- –ö—Ä–æ—Å—Å–æ–≤–∫–∏ -->
    <div class="card">
      <img id="krossovki-img" alt="–ö—Ä–æ—Å—Å–æ–≤–∫–∏">
      <div class="btns">
        <button class="btn" onclick="show('krossovki','before')">–î–æ</button>
        <button class="btn" onclick="show('krossovki','after')">–ü–æ—Å–ª–µ</button>
      </div>
      <div id="badge-krossovki" class="muted"></div>
    </div>

    <!-- –¢–æ–≤–∞—Ä -->
    <div class="card">
      <img id="product-img" alt="–¢–æ–≤–∞—Ä">
      <div class="btns">
        <button class="btn" onclick="show('product','before')">–î–æ</button>
        <button class="btn" onclick="show('product','after')">–ü–æ—Å–ª–µ</button>
      </div>
      <div id="badge-product" class="muted"></div>
    </div>

    <!-- –ù–∞—É—à–Ω–∏–∫–∏ -->
    <div class="card">
      <img id="headphones-img" alt="–ù–∞—É—à–Ω–∏–∫–∏">
      <div class="btns">
        <button class="btn" onclick="show('headphones','before')">–î–æ</button>
        <button class="btn" onclick="show('headphones','after')">–ü–æ—Å–ª–µ</button>
      </div>
      <div id="badge-headphones" class="muted"></div>
    </div>

    <!-- –ß–∞—Å—ã -->
    <div class="card">
      <img id="watch-img" alt="–ß–∞—Å—ã">
      <div class="btns">
        <button class="btn" onclick="show('watch','before')">–î–æ</button>
        <button class="btn" onclick="show('watch','after')">–ü–æ—Å–ª–µ</button>
      </div>
      <div id="badge-watch" class="muted"></div>
    </div>

    <h2>–ü—Ä–∞–π—Å</h2>
    <p style="text-align:center">
      <a id="price-auto" class="pill" href="#" download style="pointer-events:none;opacity:.6">üìÑ –°–∫–∞—á–∞—Ç—å –ø—Ä–∞–π—Å (–∞–≤—Ç–æ)</a>
      <div id="price-badge" class="muted" style="text-align:center"></div>
    </p>
  </main>

  <footer>¬© –ò–ª—å–¥–∞—Ä ‚Ä¢ AI-–¥–∏–∑–∞–π–Ω</footer>

  <script>
    /* –ö–ê–ù–î–ò–î–ê–¢–ù–´–ï –ü–ê–ü–ö–ò (—Ä–µ–∞–ª—å–Ω—ã–µ —É —Ç–µ–±—è –±—ã–ª–∏ —Å –∫–∏—Ä–∏–ª–ª–∏—Ü–µ–π) */
    const BASES = [
      "", "assets/","asset/","image/","images/",
      "–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è/","–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è/",
      "–∞–≤–∞—É—Ä—ã/","–∞–≤—É–∞—Ä—ã/",
      "–∞–≤–∞—É—Ä—ã/–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è/","–∞–≤—É–∞—Ä—ã/–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è/",
      "–∞–≤—É–∞—Ä—ã/–∞–≤—É–∞—Ä—ã/–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è/",
      "–õ–∏—á–Ω—ã–π —Å–∞–π—Ç/–∞–≤—É–∞—Ä—ã/–∞–≤—É–∞—Ä—ã/–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è/"
    ];

    /* –ü–†–û–°–¢–ê–Ø –°–•–ï–ú–ê –§–ê–ô–õ–û–í */
    const items = {
      krossovki:  { before:["krossovki-before.jpg"],  after:["krossovki-after.jpg"],  img:"krossovki-img"  },
      product:    { before:["product-before.jpg"],    after:["product-after.jpg"],    img:"product-img"    },
      headphones: { before:[
                      "headphones-before.jpg","headphones-before (1).jpg",
                      "headphones_before.jpg","headphones-before.jpeg","headphones-before.png"
                    ],
                    after:[
                      "headphones-after.jpg","headphones-after (1).jpg",
                      "headphones_after.jpg","headphones-after.jpeg","headphones-after.png"
                    ],
                    img:"headphones-img"
                  },
      watch:      { before:["watch-before.jpg"],      after:["watch-after.jpg"],      img:"watch-img"      }
    };

    /* –ü–†–ê–ô–°: DOCX –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç ‚Üí PDF ‚Üí PNG */
    const PRICE_NAMES = [
      "ai_design_site_ads.docx 2.docx","ai_design_site_ads.docx%202.docx", // —Ç–≤–æ–π —Ñ–∞–π–ª
      "price-ildar.docx","price.docx","ai_design_site_ads.docx",
      "price-ildar.pdf","price.pdf","price_a4.pdf",
      "price-ildar.png","price.png","price_a4.png"
    ];

    const FOUND = {}; // {key:{base,before,after,img}}

    /* --- –í–°–ü–û–ú–û–ì–ê–¢–ï–õ–¨–ù–´–ï --- */
    function setBadge(key, ok, text){
      const el = document.getElementById("badge-"+key);
      if(!el) return;
      el.innerHTML = (ok ? '<span class="ok">‚úî</span> ' : '<span class="bad">‚úñ</span> ') + text;
    }

    function testImage(url){
      return new Promise(res=>{
        const img = new Image();
        img.onload = ()=>res(true);
        img.onerror= ()=>res(false);
        img.src = encodeURI(url) + (url.includes("?")?"&":"?") + "v=" + Date.now();
      });
    }

    async function pickUrl(fileCandidates){
      // –ø—Ä–æ–±—É–µ–º –∫–∞–∂–¥—ã–π —Ñ–∞–π–ª + –∫–∞–∂–¥—É—é –±–∞–∑—É
      for(const name of fileCandidates){
        for(const base of BASES){
          const url = base + name;
          if(await testImage(url)) return {base, file:name, url};
        }
      }
      return null;
    }

    async function initItem(key){
      const cfg = items[key];
      const before = await pickUrl(cfg.before);
      const imgEl = document.getElementById(cfg.img);
      if(!before){ imgEl.alt = "–§–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω"; setBadge(key,false,"–ù–µ –Ω–∞–π–¥–µ–Ω–æ"); return; }

      // –ø–æ–¥–±–∏—Ä–∞–µ–º after –≤ —Ç–æ–π –∂–µ –±–∞–∑–µ; –µ—Å–ª–∏ –Ω–µ—Ç ‚Äî –∏—â–µ–º –≥–¥–µ —É–≥–æ–¥–Ω–æ
      let afterFile = null, afterUrl = null;
      for(const f of cfg.after){
        const url = before.base + f;
        if(await testImage(url)){ afterFile = f; afterUrl = url; break; }
      }
      if(!afterUrl){
        const alt = await pickUrl(cfg.after);
        if(alt){ afterFile = alt.file; afterUrl = alt.url; } else { afterFile = cfg.after[0]; afterUrl = before.base + afterFile; }
      }

      FOUND[key] = { base: before.base, before: before.file, after: afterFile, img: cfg.img };
      imgEl.src = encodeURI(before.url);
      setBadge(key,true,"–ü—É—Ç—å: " + before.base + " ¬∑ —Ñ–∞–π–ª: " + before.file);
    }

    function show(key, which){
      const s = FOUND[key]; if(!s) return;
      const file = (which==="before") ? s.before : s.after;
      const url  = s.base + file;
      document.getElementById(s.img).src = encodeURI(url) + "?v=" + Date.now();
    }

    /* –ü–†–ê–ô–°: –∞–≤—Ç–æ-–ø–æ–∏—Å–∫ (–∫—Ä–æ–º–µ –∂—ë—Å—Ç–∫–æ–π —Å—Å—ã–ª–∫–∏ —Å–≤–µ—Ä—Ö—É) */
    async function initPrice(){
      const link = document.getElementById("price-auto");
      const badge = document.getElementById("price-badge");

      // –ø—Ä–æ–±—É–µ–º –∏–º–µ–Ω–∞ + –±–∞–∑—ã
      for(const name of PRICE_NAMES){
        const clean = decodeURI(name); // –Ω–∞ —Å–ª—É—á–∞–π %20
        for(const base of BASES){
          const url = base + clean;
          try{
            const r = await fetch(encodeURI(url), {method:"HEAD",cache:"no-store"});
            if(r.ok){
              link.href = encodeURI(url) + "?v=" + Date.now();
              link.style.pointerEvents = "auto"; link.style.opacity = "1";
              const ext = clean.split(".").pop().toUpperCase();
              link.textContent = "üìÑ –°–∫–∞—á–∞—Ç—å –ø—Ä–∞–π—Å ("+ext+")";
              badge.innerHTML = '<span class="ok">‚úî</span> –§–∞–π–ª: ' + base + clean;
              return;
            }
          }catch(_){}
        }
      }
      badge.innerHTML = '<span class="bad">‚úñ</span> –ü—Ä–∞–π—Å –Ω–µ –Ω–∞–π–¥–µ–Ω (–∂—ë—Å—Ç–∫–∞—è –∫–Ω–æ–ø–∫–∞ –≤—ã—à–µ —Ä–∞–±–æ—Ç–∞–µ—Ç).';
    }

    /* –°–¢–ê–†–¢ */
    (async function(){
      await initItem("krossovki");
      await initItem("product");
      await initItem("headphones");
      await initItem("watch");
      await initPrice();
    })();
  </script>
</body>
</html>
