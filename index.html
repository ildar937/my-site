<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Примеры работ: До / После</title>

  <!-- SEO -->
  <meta name="description" content="Сравнение До/После: интерактивные слайдеры. Кроссовки, товар, наушники, часы." />
  <link rel="canonical" href="https://ildar937.github.io/my-site/">
  <meta name="robots" content="index,follow">

  <!-- Open Graph / Twitter -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="Примеры работ: До / После">
  <meta property="og:description" content="Сравнивайте результат по слайдеру До/После.">
  <meta property="og:url" content="https://ildar937.github.io/my-site/">
  <!-- Если будет картинка-превью 1200×630, раскомментируй и укажи путь:
  <meta property="og:image" content="https://ildar937.github.io/my-site/assets/preview.jpg"> -->
  <meta name="twitter:card" content="summary_large_image">

  <!-- Стили -->
  <style>
    :root{--rad:16px}
    *{box-sizing:border-box}
    body{font-family:system-ui,Arial,sans-serif;margin:0;padding:24px;background:#fafafa;color:#111}
    h1,h2{margin:12px 0;text-align:center}
    h1{font-size:clamp(24px,4vw,40px)}
    h2{font-size:clamp(18px,3vw,28px)}
    .section{max-width:1200px;margin:0 auto 28px;gap:24px;padding:0 12px;display:grid;grid-template-columns:1fr}
    /* Слайдер До/После */
    .ba{position:relative;aspect-ratio:16/10;border-radius:var(--rad);overflow:hidden;
        background:#eee center/cover no-repeat; /* подложка до ленивой загрузки */
        box-shadow:0 2px 12px rgba(0,0,0,.06)}
    .ba::before{content:"";position:absolute;inset:0;background:center/cover no-repeat;
        clip-path:inset(0 calc(100% - var(--pos,50%)) 0 0)}
    .ba-r{position:absolute;inset:0;width:100%;height:100%;opacity:0;cursor:ew-resize}
    .ba-h{position:absolute;top:0;bottom:0;left:var(--pos,50%);width:2px;background:#fff;box-shadow:0 0 0 1px rgba(0,0,0,.25)}
    .ba-h::before{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:24px;height:24px;border-radius:50%;background:#fff;box-shadow:0 1px 8px rgba(0,0,0,.25)}
    .label{position:absolute;left:14px;top:12px;font-weight:800;font-size:clamp(18px,4vw,40px);color:#0008;pointer-events:none}
    .label.r{left:auto;right:14px}
    @media (min-width:860px){ .section{grid-template-columns:1fr 1fr} }

    /* Кнопка связи (WhatsApp) */
    .cta{
      position:fixed;right:18px;bottom:18px;z-index:9999;
      background:#25D366;color:#fff;text-decoration:none;font-weight:700;
      padding:12px 16px;border-radius:999px;box-shadow:0 8px 20px rgba(0,0,0,.15)
    }
    .cta:active{transform:translateY(1px)}
  </style>
</head>
<body>
  <h1>Примеры работ: До / После</h1>

  <!-- Кроссовки -->
  <h2>Кроссовки</h2>
  <div class="section">
    <figure class="ba"
      data-before="assets/krossovki-before.jpg"
      data-after="assets/krossovki-after.jpg">
      <span class="label">До</span><span class="label r">После</span>
      <input class="ba-r" type="range" min="0" max="100" value="50" aria-label="Сравнить кроссовки">
      <div class="ba-h" aria-hidden="true"></div>
    </figure>
  </div>

  <!-- Товар -->
  <h2>Товар</h2>
  <div class="section">
    <figure class="ba"
      data-before="assets/product-before.jpg"
      data-after="assets/product-after.jpg">
      <span class="label">До</span><span class="label r">После</span>
      <input class="ba-r" type="range" min="0" max="100" value="50" aria-label="Сравнить товар">
      <div class="ba-h" aria-hidden="true"></div>
    </figure>
  </div>

  <!-- Наушники -->
  <h2>Наушники</h2>
  <div class="section">
    <figure class="ba"
      data-before="assets/headphones-before.jpg"
      data-after="assets/headphones-after.jpg">
      <span class="label">До</span><span class="label r">После</span>
      <input class="ba-r" type="range" min="0" max="100" value="50" aria-label="Сравнить наушники">
      <div class="ba-h" aria-hidden="true"></div>
    </figure>
  </div>

  <!-- Часы -->
  <h2>Часы</h2>
  <div class="section">
    <figure class="ba"
      data-before="assets/watch-before.jpg"
      data-after="assets/watch-after.jpg">
      <span class="label">До</span><span class="label r">После</span>
      <input class="ba-r" type="range" min="0" max="100" value="50" aria-label="Сравнить часы">
      <div class="ba-h" aria-hidden="true"></div>
    </figure>
  </div>

  <!-- Ещё пара? Скопируй блок выше и замени пути в data-before / data-after -->

  <!-- Кнопка связи (замени номер на свой) -->
  <a href="https://wa.me/7XXXXXXXXXX" class="cta" aria-label="Написать в WhatsApp">Написать</a>

  <!-- Скрипты -->
  <script>
    // Логика ползунка: ВЛЕВО — больше видно "До", ВПРАВО — "После"
    document.querySelectorAll('.ba').forEach(w => {
      const range = w.querySelector('.ba-r');
      const set = v => w.style.setProperty('--pos', (100 - v) + '%'); // инверсия
      set(range.value);
      range.addEventListener('input', e => set(e.target.value));

      // Перетаскивание по всей области
      w.addEventListener('pointerdown', e => {
        const rect = w.getBoundingClientRect();
        const move = ev => {
          const x = (ev.clientX ?? ev.touches?.[0]?.clientX);
          const p = Math.max(0, Math.min(100, (x - rect.left) / rect.width * 100));
          set(p); range.value = p;
        };
        move(e);
        const stop = () => {
          window.removeEventListener('pointermove', move);
          window.removeEventListener('pointerup', stop);
        };
        window.addEventListener('pointermove', move);
        window.addEventListener('pointerup', stop, {once:true});
      });
    });

    // Ленивая загрузка фонов: подставляем только когда блок виден
    const lazyBa = new IntersectionObserver((entries, obs)=>{
      entries.forEach(e=>{
        if(!e.isIntersecting) return;
        const el = e.target;
        const b = el.getAttribute('data-before');
        const a = el.getAttribute('data-after');
        if (b && a) {
          el.style.setProperty('--before', `url('${b}')`);
          el.style.setProperty('--after',  `url('${a}')`);
          el.removeAttribute('data-before');
          el.removeAttribute('data-after');
        }
        obs.unobserve(el);
      });
    }, { rootMargin: '200px 0px' });

    document.querySelectorAll('.ba').forEach(el=>lazyBa.observe(el));
  </script>
</body>
</html>
